<% content_for :title, "Repositories" %>

<div class="w-full max-w-5xl mx-auto py-8 px-4">
  <% if notice.present? %>
    <p id="notice" class="py-2 px-4 bg-green-50 border border-green-200 mb-6 text-green-700 font-medium rounded-lg shadow-sm">
      <%= notice %>
    </p>
  <% end %>

  <!-- Header -->
  <div class="flex flex-col sm:flex-row justify-between items-center mb-8 gap-4">
    <h1 class="font-bold text-3xl text-slate-800">Repositories</h1>
    <div class="flex flex-wrap gap-3">
      <%= link_to "Home", root_path,
        class: "rounded-lg px-4 py-2.5 bg-blue-600 hover:bg-blue-500 text-white font-medium shadow-sm transition" %>
      <%= link_to "New repository", new_repository_path,
        class: "rounded-lg px-4 py-2.5 bg-blue-600 hover:bg-blue-500 text-white font-medium shadow-sm transition" %>
    </div>
  </div>

  <!-- Repository List -->
  <div id="repositories" class="divide-y divide-slate-200">
    <% if @repositories.any? %>
      <% @repositories.each do |repository| %>
        <div>
          <%= link_to repository_path(repository), class: "block rounded-lg bg-white hover:bg-slate-50 transition" do %>
            <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center p-6 gap-4">
              <div class="flex-1 w-full">
                <%= render repository %>
              </div>
            </div>
          <% end %>
        </div>
      <% end %>
    <% else %>
      <p class="text-center text-slate-500 my-12">No repositories found.</p>
    <% end %>
  </div>
</div>
